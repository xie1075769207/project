"use strict";var form=document.querySelector("#form"),username=document.querySelector("#username"),password1=document.querySelector("#password1"),password2=document.querySelector("#password2"),email=document.querySelector("#email"),yzm=document.querySelector("#yzm"),loginImmediately=document.querySelector("#loginImmediately"),reg=/^\w+([-\.]\w+)*@\w+([\.-]\w+)*\.\w{2,4}$/,verifyCode=new GVerify({id:"picyzm",length:4});form.onsubmit=function(){return regeneratorRuntime.async(function(e){for(;;)switch(e.prev=e.next){case 0:if(window.event.preventDefault(),""==username.value)return alert("请输入注册帐号"),e.abrupt("return");e.next=7;break;case 7:if(username.value.length<5)return alert("注册帐号长度至少为5位!"),e.abrupt("return");e.next=10;break;case 10:if(""==password1.value)return alert("请输入密码!"),e.abrupt("return");e.next=13;break;case 13:if(""==password2.value)return alert("请重复输入密码!"),e.abrupt("return");e.next=16;break;case 16:if(password1.value!=password2.value)return alert("两次密码不一致，请重新输入"),e.abrupt("return");e.next=19;break;case 19:if(""==email.value)return alert("请输入邮箱!"),e.abrupt("return");e.next=22;break;case 22:if(reg.test(email.value)){e.next=25;break}return alert("邮箱格式错误,正确格式比如:19646618@qq.com"),e.abrupt("return");case 25:if(""==yzm.value)return alert("请输入验证码!"),e.abrupt("return");e.next=28;break;case 28:if(verifyCode.validate(yzm.value)){e.next=31;break}return alert("验证码错误!"),e.abrupt("return");case 31:pAjax({url:"../api/register.php",data:{username:username.value,password:password1.value,email:email.value}}).then(function(e){console.log(JSON.parse(e)),1==JSON.parse(e).code?(alert("注册成功!"),location.href="../html/login.html"):alert("注册的账户已经存在!")});case 32:case"end":return e.stop()}})};